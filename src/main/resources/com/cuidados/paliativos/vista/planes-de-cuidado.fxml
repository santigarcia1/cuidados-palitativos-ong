<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.ComboBox?>
<?import javafx.scene.control.DatePicker?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.TableColumn?>
<?import javafx.scene.control.TableView?>
<?import javafx.scene.control.TextArea?>
<?import javafx.scene.layout.BorderPane?>
<?import javafx.scene.layout.ColumnConstraints?>
<?import javafx.scene.layout.GridPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.RowConstraints?>
<?import javafx.scene.layout.VBox?>

<BorderPane prefHeight="550" prefWidth="800" style="-fx-background-color: #2C3E50;" xmlns="http://javafx.com/javafx/17" xmlns:fx="http://javafx.com/fxml/1" fx:controller="com.cuidados.paliativos.controlador.ControladorPlanesCuidado">

    <!-- ENCABEZADO -->
    <top>
        <HBox alignment="CENTER_LEFT" spacing="10" style="-fx-background-color: #34495E; -fx-padding: 10;">
            <Label style="-fx-text-fill: white; -fx-font-size: 18px; -fx-font-weight: bold;" text="Gestión de Planes de Cuidado" />
        </HBox>
    </top>

    <!-- CONTENIDO CENTRAL -->
    <center>
        <VBox alignment="TOP_CENTER" spacing="15">
            <padding>
                <Insets bottom="20" left="20" right="20" top="20" />
            </padding>

            <GridPane hgap="15" prefHeight="216.0" prefWidth="760.0" vgap="10">
                <padding>
                    <Insets bottom="10" left="10" right="10" top="10" />
                </padding>

                <columnConstraints>
                    <ColumnConstraints halignment="RIGHT" minWidth="120" />
                    <ColumnConstraints halignment="LEFT" minWidth="250" />
                </columnConstraints>

                <!-- Campos principales -->
                <Label style="-fx-text-fill: white;" text="Paciente:" />
                <ComboBox fx:id="cbPacientes" prefHeight="25.0" prefWidth="278.0" promptText="Seleccione un paciente" GridPane.columnIndex="1" />

                <Label style="-fx-text-fill: white;" text="Profesional:" GridPane.rowIndex="1" />
                <ComboBox fx:id="cbProfesionales" prefHeight="25.0" prefWidth="278.0" promptText="Seleccione un profesional" GridPane.columnIndex="1" GridPane.rowIndex="1" />

                <Label style="-fx-text-fill: white;" text="Fecha de creación:" GridPane.rowIndex="2" />
                <DatePicker fx:id="dpFechaCreacion" prefHeight="25.0" prefWidth="278.0" GridPane.columnIndex="1" GridPane.rowIndex="2" />

                <Label style="-fx-text-fill: white;" text="Observaciones:" GridPane.rowIndex="3" />
                <TextArea fx:id="txtObservaciones" maxHeight="-Infinity" maxWidth="-Infinity" minHeight="-Infinity" minWidth="-Infinity" prefHeight="37.0" prefWidth="279.0" GridPane.columnIndex="1" GridPane.rowIndex="3" />

                <!-- Medicamentos -->
                <Label style="-fx-text-fill: white;" text="Medicamentos:" GridPane.rowIndex="4" />
                <HBox spacing="5" GridPane.columnIndex="1" GridPane.rowIndex="4">
                    <ComboBox fx:id="cbMedicamentos" prefWidth="250" promptText="Seleccione un medicamento" />
                    <Button onAction="#crearNuevoMedicamento" style="-fx-background-color: #27AE60; -fx-text-fill: white; -fx-font-weight: bold;" text="+" />
                </HBox>

                <!-- Dietas -->
                <Label style="-fx-text-fill: white;" text="Dietas:" GridPane.rowIndex="5" />
                <HBox spacing="5" GridPane.columnIndex="1" GridPane.rowIndex="5">
                    <ComboBox fx:id="cbDietas" prefWidth="250" promptText="Seleccione una dieta" />
                    <Button onAction="#crearNuevaDieta" style="-fx-background-color: #27AE60; -fx-text-fill: white; -fx-font-weight: bold;" text="+" />
                </HBox>
            <rowConstraints>
               <RowConstraints />
               <RowConstraints />
               <RowConstraints />
               <RowConstraints />
               <RowConstraints />
               <RowConstraints />
            </rowConstraints>
            </GridPane>

            <!-- BOTONES PRINCIPALES -->
            <HBox alignment="CENTER" spacing="10">
                <Button onAction="#nuevoPlan" style="-fx-background-color: #2980B9; -fx-text-fill: white; -fx-font-weight: bold;" text="Nuevo" />
                <Button onAction="#guardarPlan" style="-fx-background-color: #27AE60; -fx-text-fill: white; -fx-font-weight: bold;" text="Guardar" />
                <Button onAction="#eliminarPlan" style="-fx-background-color: #E74C3C; -fx-text-fill: white; -fx-font-weight: bold;" text="Eliminar" />
            </HBox>

            <!-- TABLA DE PLANES -->
            <TableView fx:id="tablaPlanes" prefWidth="700" style="-fx-background-color: #ECF0F1; -fx-border-radius: 5;">
                <columns>
                    <TableColumn fx:id="colPaciente" prefWidth="150" text="Paciente" />
                    <TableColumn fx:id="colProfesional" prefWidth="150" text="Profesional" />
                    <TableColumn fx:id="colFecha" prefWidth="100" text="Fecha" />
                    <TableColumn fx:id="colObservaciones" prefWidth="200" text="Observaciones" />
                </columns>
            </TableView>

        </VBox>
    </center>

</BorderPane>
